<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="mystyle.css">
  <script>
    function recitar(markupText) {
      const url = 'http://localhost:3000/'
      const data = {
        text: markupText
      }
      console.log(data)
      const request = {
        method: 'POST', // Podría ser GET
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      }
      http = fetch(url, request)
      http.then(
        response => response.json()
      ).then(
        data => {
          document.querySelector("#htmlCode").innerHTML = data.text
        }
      )
    }
    document.addEventListener('DOMContentLoaded', function () {
      const text = document.querySelector('#markupText')
      document.querySelector('#markupForm').onsubmit = () => {
        recitar(text.value)
        return false;
      }
    })
  </script>
  <title>Document</title>
</head>

<body>
  <p id="welcome">Me gusta la programación</p>
  <p id="poema">Aqui se recibira el poema</p>
  <script>
    recitar();
  </script>
</body>

</html>